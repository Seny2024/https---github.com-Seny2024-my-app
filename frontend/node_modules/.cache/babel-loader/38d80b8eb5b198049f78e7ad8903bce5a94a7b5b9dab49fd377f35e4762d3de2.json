{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nitie\\\\Documents\\\\BUREAU\\\\UNIVERSITE EUROMED FES\\\\EIDIA-Big Data-2A\\\\D\\xE9veloppement SAAS\\\\my-app\\\\frontend\\\\src\\\\components\\\\books\\\\AddBook.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport bookService from '../../services/bookService';\nimport '../../cssComponents/EditAddBook.css';\nimport Popup from '../components/Popup'; // Import du composant Popup\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddBook = () => {\n  _s();\n  const [book, setBook] = useState({\n    titre: '',\n    auteur: '',\n    anneePublication: '',\n    genre: '',\n    resume: '',\n    disponible: true\n  });\n  const history = useNavigate();\n  const [showPopup, setShowPopup] = useState(false); // Nouvel état pour contrôler l'affichage du popup\n  const [popupMessage, setPopupMessage] = useState(''); // Nouvel état pour le message du popup\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setBook(prevBook => ({\n      ...prevBook,\n      [name]: value\n    }));\n  };\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    try {\n      await bookService.createBook(book);\n      setPopupMessage('Livre ajouté avec succès!'); // Message de succès pour le popup\n      setShowPopup(true); // Afficher le popup\n      setTimeout(() => {\n        setShowPopup(false);\n        history('/books');\n      }, 2000);\n    } catch (error) {\n      console.error('Échec de la création du livre', error);\n      setPopupMessage('Erreur lors de l\\'ajout du livre.'); // Message d'erreur pour le popup\n      setShowPopup(true); // Afficher le popup en cas d'erreur\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit-book-container\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/books\",\n      children: \"Retour\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"edit-book-header\",\n      children: \"Ajouter un livre\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"edit-book-form\",\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"titre\",\n        children: \"Titre :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"titre\",\n        name: \"titre\",\n        value: book.titre,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"auteur\",\n        children: \"Auteur :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"auteur\",\n        name: \"auteur\",\n        value: book.auteur,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"anneePublication\",\n        children: \"Ann\\xE9e de publication :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"anneePublication\",\n        name: \"anneePublication\",\n        value: book.anneePublication,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"genre\",\n        children: \"Genre :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"genre\",\n        name: \"genre\",\n        value: book.genre,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"resume\",\n        children: \"R\\xE9sum\\xE9 :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"resume\",\n        name: \"resume\",\n        value: book.resume,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"disponible\",\n        children: \"Disponible :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"disponible\",\n        name: \"disponible\",\n        checked: book.disponible,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Ajouter le livre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), showPopup && /*#__PURE__*/_jsxDEV(Popup, {\n      message: popupMessage,\n      onClose: () => setShowPopup(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(AddBook, \"+T78wgpYmQyTNNRag7rv4mLJjcg=\", false, function () {\n  return [useNavigate];\n});\n_c = AddBook;\nexport default AddBook;\nvar _c;\n$RefreshReg$(_c, \"AddBook\");","map":{"version":3,"names":["React","useState","useNavigate","Link","bookService","Popup","jsxDEV","_jsxDEV","AddBook","_s","book","setBook","titre","auteur","anneePublication","genre","resume","disponible","history","showPopup","setShowPopup","popupMessage","setPopupMessage","handleInputChange","event","name","value","target","prevBook","handleFormSubmit","preventDefault","createBook","setTimeout","error","console","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","onChange","required","checked","message","onClose","_c","$RefreshReg$"],"sources":["C:/Users/nitie/Documents/BUREAU/UNIVERSITE EUROMED FES/EIDIA-Big Data-2A/Développement SAAS/my-app/frontend/src/components/books/AddBook.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport bookService from '../../services/bookService';\r\nimport '../../cssComponents/EditAddBook.css';\r\nimport Popup from '../components/Popup'; // Import du composant Popup\r\n\r\nconst AddBook = () => {\r\n  const [book, setBook] = useState({\r\n    titre: '',\r\n    auteur: '',\r\n    anneePublication: '',\r\n    genre: '',\r\n    resume: '',\r\n    disponible: true,\r\n  });\r\n\r\n  const history = useNavigate();\r\n  const [showPopup, setShowPopup] = useState(false); // Nouvel état pour contrôler l'affichage du popup\r\n  const [popupMessage, setPopupMessage] = useState(''); // Nouvel état pour le message du popup\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setBook((prevBook) => ({ ...prevBook, [name]: value }));\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await bookService.createBook(book);\r\n      setPopupMessage('Livre ajouté avec succès!'); // Message de succès pour le popup\r\n      setShowPopup(true); // Afficher le popup\r\n      setTimeout(() => {\r\n        setShowPopup(false);\r\n        history('/books');\r\n      }, 2000);\r\n    } catch (error) {\r\n      console.error('Échec de la création du livre', error);\r\n      setPopupMessage('Erreur lors de l\\'ajout du livre.'); // Message d'erreur pour le popup\r\n      setShowPopup(true); // Afficher le popup en cas d'erreur\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit-book-container\">\r\n      <Link to=\"/books\">Retour</Link>\r\n      <h2 className=\"edit-book-header\">Ajouter un livre</h2>\r\n      <form className=\"edit-book-form\" onSubmit={handleFormSubmit}>\r\n        <label htmlFor=\"titre\">Titre :</label>\r\n        <input type=\"text\" id=\"titre\" name=\"titre\" value={book.titre} onChange={handleInputChange} required />\r\n        <label htmlFor=\"auteur\">Auteur :</label>\r\n        <input type=\"text\" id=\"auteur\" name=\"auteur\" value={book.auteur} onChange={handleInputChange} required />\r\n        <label htmlFor=\"anneePublication\">Année de publication :</label>\r\n        <input type=\"number\" id=\"anneePublication\" name=\"anneePublication\" value={book.anneePublication} onChange={handleInputChange} required />\r\n        <label htmlFor=\"genre\">Genre :</label>\r\n        <input type=\"text\" id=\"genre\" name=\"genre\" value={book.genre} onChange={handleInputChange} required />\r\n        <label htmlFor=\"resume\">Résumé :</label>\r\n        <textarea id=\"resume\" name=\"resume\" value={book.resume} onChange={handleInputChange} required />\r\n        <label htmlFor=\"disponible\">Disponible :</label>\r\n        <input type=\"checkbox\" id=\"disponible\" name=\"disponible\" checked={book.disponible} onChange={handleInputChange} />\r\n        <button type=\"submit\">Ajouter le livre</button>\r\n      </form>\r\n      {showPopup && <Popup message={popupMessage} onClose={() => setShowPopup(false)} />} {/* Affichage du popup */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddBook;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}